{
  "_from": "router",
  "_id": "router@1.3.2",
  "_inBundle": false,
  "_integrity": "sha1-v6oWiIpSg9XuQNmZ2nqfoVKWpgw=",
  "_location": "/router",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "router",
    "fetchSpec": "latest",
    "name": "router",
    "raw": "router",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/router/-/router-1.3.2.tgz",
  "_shasum": "bfaa16888a5283d5ee40d999da7a9fa15296a60c",
  "_spec": "router",
  "_where": "/Users/dhritiwasan/Documents/data_integ/app",
  "author": {
    "email": "doug@somethingdoug.com",
    "name": "Douglas Christopher Wilson"
  },
  "bugs": {
    "url": "https://github.com/pillarjs/router/issues"
  },
  "bundleDependencies": false,
  "contributors": [
    {
      "name": "Blake Embrey",
      "email": "hello@blakeembrey.com"
    }
  ],
  "dependencies": {
    "array-flatten": "2.1.1",
    "debug": "2.6.9",
    "methods": "~1.1.2",
    "parseurl": "~1.3.2",
    "path-to-regexp": "0.1.7",
    "setprototypeof": "1.1.0",
    "utils-merge": "1.0.1"
  },
  "deprecated": false,
  "description": "Simple middleware-style router",
  "devDependencies": {
    "after": "0.8.2",
    "eslint": "3.19.0",
    "eslint-plugin-markdown": "1.0.0-beta.6",
    "finalhandler": "1.0.6",
    "istanbul": "0.4.5",
    "mocha": "2.5.3",
    "supertest": "1.1.0"
  },
  "engines": {
    "node": ">= 0.8"
  },
  "files": [
    "HISTORY.md",
    "LICENSE",
    "README.md",
    "index.js",
    "lib/"
  ],
  "homepage": "https://github.com/pillarjs/router#readme",
  "license": "MIT",
  "name": "router",
  "optionalDependencies": {},
  "readme": "# router\n\n[![NPM Version][npm-image]][npm-url]\n[![NPM Downloads][downloads-image]][downloads-url]\n[![Node.js Version][node-version-image]][node-version-url]\n[![Build Status][travis-image]][travis-url]\n[![Test Coverage][coveralls-image]][coveralls-url]\n\nSimple middleware-style router\n\n## Installation\n\n```bash\n$ npm install router\n```\n\n## API\n\n```js\nvar finalhandler = require('finalhandler')\nvar http         = require('http')\nvar Router       = require('router')\n\nvar router = Router()\nrouter.get('/', function (req, res) {\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n  res.end('Hello World!')\n})\n\nvar server = http.createServer(function(req, res) {\n  router(req, res, finalhandler(req, res))\n})\n\nserver.listen(3000)\n```\n\nThis module is currently an extracted version from the Express project,\nbut with the main change being it can be used with a plain `http.createServer`\nobject or other web frameworks by removing Express-specific API calls.\n\n## Router(options)\n\nOptions\n\n- `strict`        - When `false` trailing slashes are optional (default: `false`)\n- `caseSensitive` - When `true` the routing will be case sensitive. (default: `false`)\n- `mergeParams`   - When `true` any `req.params` passed to the router will be\n  merged into the router's `req.params`. (default: `false`) ([example](#example-using-mergeparams))\n\nReturns a function with the signature `router(req, res, callback)` where\n`callback([err])` must be provided to handle errors and fall-through from\nnot handling requests.\n\n### router.use([path], ...middleware)\n\nUse the given [middleware function](#middleware) for all http methods on the\ngiven `path`, defaulting to the root path.\n\n`router` does not automatically see `use` as a handler. As such, it will not\nconsider it one for handling `OPTIONS` requests.\n\n* Note: If a `path` is specified, that `path` is stripped from the start of\n  `req.url`.\n\n```js\nrouter.use(function (req, res, next) {\n  // do your things\n\n  // continue to the next middleware\n  // the request will stall if this is not called\n  next()\n\n  // note: you should NOT call `next` if you have begun writing to the response\n})\n```\n\n[Middleware](#middleware) can themselves use `next('router')` at any time to\nexit the current router instance completely, invoking the top-level callback.\n\n### router\\[method](path, ...[middleware], handler)\n\nThe [http methods](https://github.com/jshttp/methods/blob/master/index.js) provide\nthe routing functionality in `router`.\n\nMethod middleware and handlers follow usual [middleware](#middleware) behavior,\nexcept they will only be called when the method and path match the request.\n\n```js\n// handle a `GET` request\nrouter.get('/', function (req, res) {\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n  res.end('Hello World!')\n})\n```\n\n[Middleware](#middleware) given before the handler have one additional trick,\nthey may invoke `next('route')`. Calling `next('route')` bypasses the remaining\nmiddleware and the handler mounted for this route, passing the request to the\nnext route suitable for handling this request.\n\nRoute handlers and middleware can themselves use `next('router')` at any time\nto exit the current router instance completely, invoking the top-level callback.\n\n### router.param(name, param_middleware)\n\nMaps the specified path parameter `name` to a specialized param-capturing middleware.\n\nThis function positions the middleware in the same stack as `.use`.\n\nParameter mapping is used to provide pre-conditions to routes\nwhich use normalized placeholders. For example a _:user_id_ parameter\ncould automatically load a user's information from the database without\nany additional code:\n\n```js\nrouter.param('user_id', function (req, res, next, id) {\n  User.find(id, function (err, user) {\n    if (err) {\n      return next(err)\n    } else if (!user) {\n      return next(new Error('failed to load user'))\n    }\n    req.user = user\n\n    // continue processing the request\n    next()\n  })\n})\n```\n\n### router.route(path)\n\nCreates an instance of a single `Route` for the given `path`.\n(See `Router.Route` below)\n\nRoutes can be used to handle http `methods` with their own, optional middleware.\n\nUsing `router.route(path)` is a recommended approach to avoiding duplicate\nroute naming and thus typo errors.\n\n```js\nvar api = router.route('/api/')\n```\n\n## Router.Route(path)\n\nRepresents a single route as an instance that can be used can be used to handle\nhttp `methods` with it's own, optional middleware.\n\n### route\\[method](handler)\n\nThese are functions which you can directly call on a route to register a new\n`handler` for the `method` on the route.\n\n```js\n// handle a `GET` request\nvar status = router.route('/status')\n\nstatus.get(function (req, res) {\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n  res.end('All Systems Green!')\n})\n```\n\n### route.all(handler)\n\nAdds a handler for all HTTP methods to this route.\n\nThe handler can behave like middleware and call `next` to continue processing\nrather than responding.\n\n```js\nrouter.route('/')\n.all(function (req, res, next) {\n  next()\n})\n.all(check_something)\n.get(function (req, res) {\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n  res.end('Hello World!')\n})\n```\n\n## Middleware\n\nMiddleware (and method handlers) are functions that follow specific function\nparameters and have defined behavior when used with `router`. The most common\nformat is with three parameters - \"req\", \"res\" and \"next\".\n\n- `req`  - This is a [HTTP incoming message](https://nodejs.org/api/http.html#http_http_incomingmessage) instance.\n- `res`  - This is a [HTTP server response](https://nodejs.org/api/http.html#http_class_http_serverresponse) instance.\n- `next` - Calling this function that tells `router` to proceed to the next matching middleware or method handler. It accepts an error as the first argument.\n\nMiddleware and method handlers can also be defined with four arguments. When\nthe function has four parameters defined, the first argument is an error and\nsubsequent arguments remain, becoming - \"err\", \"req\", \"res\", \"next\". These\nfunctions are \"error handling middleware\", and can be used for handling\nerrors that occurred in previous handlers (E.g. from calling `next(err)`).\nThis is most used when you want to define arbitrary rendering of errors.\n\n```js\nrouter.get('/error_route', function (req, res, next) {\n  return next(new Error('Bad Request'))\n})\n\nrouter.use(function (err, req, res, next) {\n  res.end(err.message) //=> \"Bad Request\"\n})\n```\n\nError handling middleware will **only** be invoked when an error was given. As\nlong as the error is in the pipeline, normal middleware and handlers will be\nbypassed - only error handling middleware will be invoked with an error.\n\n## Examples\n\n```js\n// import our modules\nvar http         = require('http')\nvar Router       = require('router')\nvar finalhandler = require('finalhandler')\nvar compression  = require('compression')\nvar bodyParser   = require('body-parser')\n\n// store our message to display\nvar message = \"Hello World!\"\n\n// initialize the router & server and add a final callback.\nvar router = Router()\nvar server = http.createServer(function onRequest(req, res) {\n  router(req, res, finalhandler(req, res))\n})\n\n// use some middleware and compress all outgoing responses\nrouter.use(compression())\n\n// handle `GET` requests to `/message`\nrouter.get('/message', function (req, res) {\n  res.statusCode = 200\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n  res.end(message + '\\n')\n})\n\n// create and mount a new router for our API\nvar api = Router()\nrouter.use('/api/', api)\n\n// add a body parsing middleware to our API\napi.use(bodyParser.json())\n\n// handle `PATCH` requests to `/api/set-message`\napi.patch('/set-message', function (req, res) {\n  if (req.body.value) {\n    message = req.body.value\n\n    res.statusCode = 200\n    res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n    res.end(message + '\\n')\n  } else {\n    res.statusCode = 400\n    res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n    res.end('Invalid API Syntax\\n')\n  }\n})\n\n// make our http server listen to connections\nserver.listen(8080)\n```\n\nYou can get the message by running this command in your terminal,\n or navigating to `127.0.0.1:8080` in a web browser.\n```bash\ncurl http://127.0.0.1:8080\n```\n\nYou can set the message by sending it a `PATCH` request via this command:\n```bash\ncurl http://127.0.0.1:8080/api/set-message -X PATCH -H \"Content-Type: application/json\" -d '{\"value\":\"Cats!\"}'\n```\n\n### Example using mergeParams\n\n```js\nvar http         = require('http')\nvar Router       = require('router')\nvar finalhandler = require('finalhandler')\n\n// this example is about the mergeParams option\nvar opts = { mergeParams: true }\n\n// make a router with out special options\nvar router = Router(opts)\nvar server = http.createServer(function onRequest(req, res) {\n\n  // set something to be passed into the router\n  req.params = { type: 'kitten' }\n\n  router(req, res, finalhandler(req, res))\n})\n\nrouter.get('/', function (req, res) {\n  res.statusCode = 200\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n\n  // with respond with the the params that were passed in\n  res.end(req.params.type + '\\n')\n})\n\n// make another router with our options\nvar handler = Router(opts)\n\n// mount our new router to a route that accepts a param\nrouter.use('/:path', handler)\n\nhandler.get('/', function (req, res) {\n  res.statusCode = 200\n  res.setHeader('Content-Type', 'text/plain; charset=utf-8')\n\n  // will respond with the param of the router's parent route\n  res.end(path + '\\n')\n})\n\n// make our http server listen to connections\nserver.listen(8080)\n```\n\nNow you can get the type, or what path you are requesting:\n```bash\ncurl http://127.0.0.1:8080\n> kitten\ncurl http://127.0.0.1:8080/such_path\n> such_path\n```\n\n## License\n\n[MIT](LICENSE)\n\n[npm-image]: https://img.shields.io/npm/v/router.svg\n[npm-url]: https://npmjs.org/package/router\n[node-version-image]: https://img.shields.io/node/v/router.svg\n[node-version-url]: http://nodejs.org/download/\n[travis-image]: https://img.shields.io/travis/pillarjs/router/master.svg\n[travis-url]: https://travis-ci.org/pillarjs/router\n[coveralls-image]: https://img.shields.io/coveralls/pillarjs/router/master.svg\n[coveralls-url]: https://coveralls.io/r/pillarjs/router?branch=master\n[downloads-image]: https://img.shields.io/npm/dm/router.svg\n[downloads-url]: https://npmjs.org/package/router\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/pillarjs/router.git"
  },
  "scripts": {
    "lint": "eslint --plugin markdown --ext js,md .",
    "test": "mocha --reporter spec --bail --check-leaks test/",
    "test-cov": "istanbul cover node_modules/mocha/bin/_mocha -- --reporter dot --check-leaks test/",
    "test-travis": "istanbul cover node_modules/mocha/bin/_mocha --report lcovonly -- --reporter spec --check-leaks test/"
  },
  "version": "1.3.2"
}
